# Laboratory work

## **George Golubev** *21PMI-2*

## Список тем

> ### 1. [**System Info**](#1-system-info-1 "Задания 1 - 12")
>- [CPU](#cpu)
>- [RAM](#ram)
>- [DISK USAGE](#disk-usage)
>- [GPU](#gpu)
>- [NETWORK](#network)
>- [PROCESS INFO](#process-info)
> ###  2. [**System&nbsp;Environment**](#2-system-environment)
> ###  3. [**Grep**](#3-grep-1)
> ###  4. [**Find**](#4-find-1)
> ###  5. [**Bash**](#5-bash-1)
> ###  6. [**Administration**](#6-administration-1)

# 1. System Info
## **CPU**

----
**1.** Какими способами можно узнать информацию о CPU?



***Ответ:***  
  
**a)** 1. Вывести содержимое файла *cpuinfo* в директории *~/proc*: `cat /proc/cpuinfo`  
2. Используя комманду: `lscpu`.  
3. Используя комманду: `inxi -Cxa`

**b)** Команда для вывода: `inxi -Cx` . *Вывод команды:*  
![Пример вывода](images/cpu/1.b.png)

----

## **RAM**

----

**2.** Что такое RAM и Swap?

***Ответ:***  
  
**RAM** *(Random Access Memory)* - память с произвольным доступом, то есть запрос к требуемой ячейке памяти происходит напрямую, другие блоки не затрагиваются. Также этот вид памяти называют энергозависимым, а значит, данные сохраняются в ней до тех пор, пока включено устройство, в котором она установлена.

**SWAP** *(от англ. swapping)* - один из механизмов виртуальной памяти, при котором отдельные фрагменты памяти (обычно неактивные) перемещаются из ОЗУ во вторичное хранилище (жёсткий диск или другой внешний накопитель, такой как флеш-память), освобождая ОЗУ для загрузки других активных фрагментов памяти. Такими фрагментами в современных ЭВМ являются страницы памяти.

---

**3.** Написать команду, которая выводит объем RAM/Swap.

***Ответ:*** `free`

---

**4.** Написать bash-script, который меняет размер Swap.  
  
***Ответ:***  
  
[*`scripts/ram/change_swap_size.sh`*](/scripts/ram/change_swap_size.sh):
```bash
swapfile=$1
new_swap_size=$2

if [ $# -eq 0 ]; then
    echo "No arguments"
    exit
fi

if [ -z "$1" ]; then
    echo "No swapfile name"
    exit
fi

if [ -z "$2" ]; then
    echo "No swapfile size"
    exit
fi


swapoff $swapfile

dd if=/dev/zero of=$swapfile bs=1M count=$new_swap_size status=progress

chmod 600 $swapfile

mkswap $swapfile

swapon $swapfile
```

----

**5.** Для тех, у кого не гостевая Linux-система (т.е. основная). Написать команду, которая выводит информацию о типе используемой RAM (название, производитель, серийный номер, формат, объем, текущую частоту работы).  
  
***Ответ:*** `sudo dmidecode -t memory`  

***Вывод:***  
![dmidecode](/images/ram/4.png)

----

## **DISK USAGE**
-----

**6.** Написать команду, которая выводит размер свободного месте на диске.

***Ответ:***  `df`

----

**7.** Написать команду, которая выводит размер вашей home директории.

***Ответ:***  `sudo du -hs /home`

----


**8.** Написать команду, которая выводит список процессов.  

***Ответ:*** `ps -A`

----

## **GPU**  
----  
  
**9.** Вывести инфу о GPU (как правило команда зависит от типа GPU, необходима установка доп. пакетов. Хотя можно и системными средствами, хоть и не удобно)  
***Ответ:*** `sudo lshw -C display`

----

## **NETWORK**

----

**10.** Написать команду, которая выводит IP-адресс компьютера  
***Ответ:*** `wget -qO- eth0.me`

----

**11.** Написать команду, которая выводит MAC-адресс компьютера  
***Ответ:*** `ifconfig -a | grep ether | gawk '{print $2}'`

----

**12.** Какие еще есть способы узнать эту информацию? Написать альтернативные варианты  
***Ответ:*** Используя комманды `ifconfig -a`, `ip a`, `ip r l`

----

## **PROCESS INFO**

----

**13.** Вывести активные процессы в системе минимум двумя способами.  
***Ответ:***  
`ps -ef`:  
![](/images/process_info/ps.png)  

`top`:  
![](/images/process_info/top.png)  

`htop`:  
![](/images/process_info/htop.png )


----

# 2. **System Environment**

**14.** Создать переменную окружения любым способом
```shell
$ export MY_VAR=1
```

----

**15.** Модифицировать PATH, добавив туда свою home директорию
```shell
$ export PATH="$HOME:$PATH"
```
или
```shell
$ echo "export PATH=\"\$HOME:\$PATH\"" >> ~/.bashrc    
```

----

**16.** Обновить имеющиеся системные библиотеки с помощью любого CLI менеджера пакетов
```shell
$ sudo pacman -Syu
```

----

**18.** Создать alias к любой команде, сохранить его в конфигурационном файле
```shell
$ alias c="clear"
$ echo "alias c=\"clear\"" >> ~/.bashrc
```

---- 

**20.** Создать внутри своего home пространства virtual environment. Добавить в bashrc возможность его активировать.  
```shell
$ python3 -m venv ~/venv
$ echo "alias activate=\"source ~/venv/bin/activate\"" >> .bashrc 
```
---


# 3. **Grep**

**21.** Что такое grep?  
***Ответ:*** grep — утилита командной строки, которая находит на вводе строки, отвечающие заданному регулярному выражению, и выводит их, если вывод не отменён специальным ключом.

**a.** 
----

**i.** Написать команду поиска паттерна в файле. `grep [OPTION...] PATTERNS [FILE]`  
**ii.** Написать команду поиска паттерна в нескольких файлах сразу. `grep [OPTION...] PATTERNS [FILE1] [FILE2]...`  
**iii.** Написать команду поиска нескольких паттернов в одном/нескольких файлах. `gpep [OPTION...] PATTERN_FILE [FILE...]`  

----

**22.** Какой ключ делает команду не чувствительной к регистру?  
***Ответ:*** `-i`

----

**23.** Проверить с помощью grep наличие слова в файле. (т.е паттерн является словом целиком. Словоформы не в счет)  
***Ответ:***  
![23](/images/grep/23.png)  

----

**24.** Написать команду вывода всех строк в файле, не содержащих паттерн.  
***Ответ.*** `grep -v PATTERN [FILE...]`

----
**25.** Найти все info файлы в /proc директории с помощью grep  
***Ответ:***
```shell
$ ls /proc | grep -i info
```

**a.**  
```python
import os 

proc_files = os.listdir("/proc")

with open("output.txt", "w+") as of:
    for file in proc_files:
        if "info" not in file:
            continue
            
        with open(f"/proc/{file}", "r") as f:
            of.write(f.read())
```

---

**26.** Добавить к команде из пункта 21.а.i номер строки, в которой нашлась подстрока  
***Ответ:***  `grep -n PATTERN [FILE...]`
----
# 4. **Find**

# 5. **Bash**

**43.** Создать директорию в своем home пространстве, где вы будете хранить все скрипты.
```shell
$ mkdir ~/scripts
```

----

**44.** Написать «hello world» скрипт, запустить, убедиться, что он работает корректно.Написать «hello world» скрипт, запустить, убедиться, что он работает корректно.  
`hello_world.py`:  
```python
#!/usr/bin/python
print("Hello world!")
```

----

**45.** Написать скрипт/функцию, который проверял бы существование файла или директории с заданным именем.  
`dir_file_exist.py`:
```python
```
----

# 6. **Administration**